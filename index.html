<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>스마트 비밀번호 생성기</title>

  <!-- CSS Files -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/themes.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-top">
        <h1>🔐 스마트 비밀번호 생성기</h1>
        <button id="themeToggle" class="theme-toggle" title="테마 전환">
          <span class="theme-icon">🌙</span>
        </button>
      </div>

      <!-- Tab Menu -->
      <div class="tab-menu">
        <button class="tab-button active" data-tab="generator">
          🎲 생성하기
        </button>
        <button class="tab-button" data-tab="validator">
          🔍 검증하기
        </button>
      </div>
    </header>

    <main class="main-content">
      <div id="generatorTab" class="tab-content active">
        <!-- Password Output Section -->
        <section class="output-section">
          <div class="password-display">
            <input type="text" id="passwordOutput" class="password-input" readonly placeholder="생성된 비밀번호가 여기에 표시됩니다">
            <button id="copyBtn" class="btn-icon" title="복사">📋</button>
          </div>

          <!-- Hint Section -->
          <div id="hintSection" class="hint-section" style="display: none;">
            <span class="hint-icon">💡</span>
            <span class="hint-label">힌트:</span>
            <span id="hintText" class="hint-text"></span>
          </div>

          <div class="strength-indicator">
            <div class="strength-meter">
              <div class="strength-bar" id="strengthBar"></div>
            </div>
            <div class="strength-info">
              <p class="strength-text" id="strengthText">비밀번호를 생성해주세요</p>
              <p class="entropy-mini" id="entropyMini"></p>
            </div>
          </div>
        </section>

        <!-- Option Panel -->
        <section class="options-section">
          <h2 class="section-title">생성 옵션</h2>

          <!-- Type Select -->
          <div class="option-group">
            <label class="option-label">타입</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="type" value="password" checked>
                <span>일반 비밀번호</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="type" value="passphrase">
                <span>패스프레이즈</span>
              </label>
            </div>
          </div>

          <!-- Generic Password Option -->
          <div id="passwordOptions" class="options-panel">
            <div class="option-group">
              <label class="option-label">
                길이: <span id="lengthValue" class="value-display">12</span>
              </label>
              <input type="range" id="length" class="slider" min="8" max="32" value="12">
            </div>

            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="uppercase" checked>
                <span>대문자 포함 (A-Z)</span>
              </label>
            </div>

            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="lowercase" checked>
                <span>소문자 포함 (a-z)</span>
              </label>
            </div>
            
            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="numbers" checked>
                <span>숫자 포함 (0-9)</span>
              </label>
            </div>

            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="symbols" checked>
                <span>특수문자 포함 (!@#$%^&*)</span>
              </label>
            </div>
          </div>

          <!-- Passphrase Option -->
          <div id="passphraseOptions" class="options-panel" style="display: none;">
            <div class="option-group">
              <label class="option-label">언어</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="language" value="en" checked>
                  <span>영어</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="language" value="ko">
                  <span>한국어</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="language" value="custom">
                  <span>커스텀</span>
                </label>
              </div>
            </div>

            <!-- Custom Word Input -->
            <div id="customWordsSection" class="option-group" style="display: none;">
              <label class="option-label">
                커스텀 단어 입력
                <small style="display: block; margin-top: 3px; color: var(--color-text-muted); font-weight: normal;">
                  쉼표(,)로 구분해서 입력하세요. 한글도 가능합니다!
                </small>
              </label>
              <textarea
                id="customWords"
                class="text-input"
                rows="3"
                placeholder="예: 햄버거, 피자, 치킨, 떡볶이, 김밥"
              ></textarea>
              <div class="custom-words-info">
                <span id="wordCountInfo" class="word-count-info">0개 단어</span>
              </div>
            </div>

            <div class="option-group">
              <label class="option-label">
                단어 수: <span id="wordCountValue" class="value-display">4</span>
              </label>
              <input type="range" id="wordCount" class="slider" min="3" max="8" value="4">
            </div>

            <div class="option-group">
              <label class="option-label">구분자</label>
              <input type="text" id="separator" class="text-input" value="-" maxlength="1">
            </div>

            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="capitalize">
                <span>첫 글자 대문자</span>
              </label>
            </div>

            <div class="option-group">
              <label class="checkbox-label">
                <input type="checkbox" id="includeNumber">
                <span>숫자 추가</span>
              </label>
            </div>
          </div>

          <button id="generateBtn" class="btn-primary">비밀번호 생성</button>
        </section>

        <!-- History -->
        <section class="history-section">
          <h2 class="section-title">생성 기록</h2>
          <button id="clearHistoryBtn" class="btn-clear" title="기록 전체 삭제">🗑</button>
          <ul id="historyList" class="history-list"></ul>
        </section>
      </div>

      <!-- Validator Tab -->
      <div id="validatorTab" class="tab-content">
        <section class="validator-section">
          <h2 class="section-title">비밀번호 검증</h2>
          <p class="section-description">
            사용 중인 비밀번호의 보안 강도를 확인하고 개선 방법을 알아보세요.
          </p>

          <!-- Password Input -->
          <div class="validator-input-group">
            <label class="option-label">검증할 비밀번호</label>
            <div class="password-display">
              <input type="password" id="passwordToValidate" class="password-input" placeholder="비밀번호를 입력하세요">
              <button id="togglePasswordBtn" class="btn-icon" title="보기/숨기기">👁</button>
            </div>
            <button id="validateBtn" class="btn-primary">비밀번호 분석</button>
          </div>

          <!-- Validation Result -->
          <div id="validationResult" class="validation-result" style="display: none;">
            <!-- Strength Result -->
            <div class="result-strength">
              <h3 class="result-title">보안 강도</h3>
              <div class="strength-meter">
                <div class=""strength-bar" id="validatorStrengthBar"></div>
              </div>
              <p class="strength-text" id="validatorStrengthText"></p>
            </div>

            <!-- Details -->
            <div class="result-details">
              <h3 class="result-title">상세 분석</h3>
              <div class="detail-grid">
                <div class="detail-item">
                  <span class="detail-label">길이</span>
                  <span class="detail-value" id="detailLength">-</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">문자 종류</span>
                  <span class="detail-value" id="detailTypes">-</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">예상 해킹 시간</span>
                  <span class="detail-value" id="detailCrackTime">-</span>
                </div>
              </div>
            </div>

            <!-- Entropy -->
            <div class="result-entropy">
              <h3 class="result-title">🔐 엔트로피 (무작위성)</h3>
              <div class="entropy-display">
                <div class="entropy-value">
                  <span id="entropyBits" class="entropy-number">0</span>
                  <span class="entropy-unit">bits</span>
                </div>
                <div class="entropy-bar-container">
                  <div class="entropy-bar" id="entropyBar"></div>
                </div>
                <p class="entropy-description" id="entropyDescription">-</p>
              </div>

              <!-- Entropy Description -->
              <div class="entropy-info">
                <details>
                  <summary>엔트로피란? 🤔</summary>
                  <div class="entropy-explanation">
                    <p><strong>엔트로피(Entropy)</strong>는 비밀번호의 무작위성과 복잡도를 측정하는 지표입니다.</p>
                    <ul>
                      <li><strong>&lt; 28 bits:</strong> 매우 약함 (즉시 뚫림)</li>
                      <li><strong>28-35 bits:</strong> 약함 (몇 분~몇 시간)</li>
                      <li><strong>36-59 bits:</strong> 보통 (며칠~몇 달)</li>
                      <li><strong>60-127 bits:</strong> 강함 (수년 이상)</li>
                      <li><strong>≥ 128 bits:</strong> 매우 강함 (사실상 불가능)</li>
                    </ul>
                    <p class="entropy-tip">💡 권장: 최소 60bits 이상</p>
                  </div>
                </details>
              </div>
            </div>

            <!-- Issues -->
            <div class="result-issues" id="issuesSection" style="display: none;">
              <h3 class="result-title">⚠ 발견된 문제점</h3>
              <ul id="issuesList" class="issues-list"></ul>
            </div>

            <!-- Suggestions -->
            <div class="result-suggestions" id="suggestionsSection" style="display: none;">
              <h3 class="result-title">💡 개선 제안</h3>
              <ul id="suggestionsList" class="suggestions-list"></ul>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- JavaScript Files -->
  <script type="module" src="js/config.js"></script>
  <script type="module" src="utils/helpers.js"></script>
  <script type="module" src="js/generator.js"></script>
  <script type="module" src="js/strength.js"></script>
  <script type="module" src="js/ui.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>